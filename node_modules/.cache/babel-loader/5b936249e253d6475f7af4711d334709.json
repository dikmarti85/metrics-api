{"ast":null,"code":"import _asyncToGenerator from \"/Users/dimartinez/workspace/metrics-api/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _toConsumableArray from \"/Users/dimartinez/workspace/metrics-api/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _slicedToArray from \"/Users/dimartinez/workspace/metrics-api/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\n\nvar _jsxFileName = \"/Users/dimartinez/workspace/metrics-api/src/app/components/chat-box-2/Chatbox.jsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport _regeneratorRuntime from \"/Users/dimartinez/workspace/metrics-api/node_modules/@babel/runtime/regenerator/index.js\";\nimport { H5, H6, Span } from '../Typography';\nimport { ChatAvatar } from 'app/components';\nimport ScrollBar from 'react-perfect-scrollbar';\nimport { Box, styled, useTheme } from '@mui/system';\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { IconButton, Icon, Divider, TextField, Avatar } from '@mui/material';\nimport { convertHexToRGB } from 'app/utils/utils';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar ChatContainer = styled('div')(function () {\n  return {\n    height: '100%',\n    display: 'flex',\n    flexDirection: 'column',\n    background: '#fff'\n  };\n});\nvar StyledScrollBar = styled(ScrollBar)(function () {\n  return {\n    flexGrow: 1\n  };\n});\nvar ProfileBox = styled('div')(function (_ref) {\n  var theme = _ref.theme;\n  return {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    padding: '12px 12px 12px 20px',\n    color: theme.palette.primary.main,\n    background: '#fafafa'\n  };\n});\nvar ChatStatus = styled('div')(function (_ref2) {\n  var theme = _ref2.theme;\n  return {\n    marginLeft: '12px',\n    color: theme.palette.primary.main,\n    '& h5': {\n      marginTop: 0,\n      fontSize: '14px',\n      marginBottom: '3px'\n    },\n    '& span': {\n      fontWeight: '500'\n    }\n  };\n});\nvar ChatMessage = styled('div')(function (_ref3) {\n  var theme = _ref3.theme;\n  return {\n    padding: '8px',\n    maxWidth: 240,\n    fontSize: '14px',\n    borderRadius: '4px',\n    marginBottom: '8px',\n    whiteSpace: 'pre-wrap',\n    wordBreak: 'break-word',\n    color: theme.palette.primary.main,\n    background: '#fafafa'\n  };\n});\nvar MessageTime = styled('span')(function (_ref4) {\n  var theme = _ref4.theme;\n  return {\n    fontSize: '13px',\n    fontWeight: '500',\n    color: theme.palette.primary.main\n  };\n});\nvar ChatImgContainer = styled('div')(function (_ref5) {\n  var theme = _ref5.theme;\n  return {\n    padding: '20px',\n    display: 'flex',\n    justifyContent: 'flex-end'\n  };\n});\nvar ChatImgBox = styled('div')(function (_ref6) {\n  var theme = _ref6.theme;\n  return {\n    padding: '8px',\n    fontSize: '14px',\n    maxWidth: 240,\n    borderRadius: '4px',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'flex-end',\n    color: theme.palette.primary.main,\n    background: '#fafafa'\n  };\n});\nvar ChatImg = styled('img')(function () {\n  return {\n    width: '40px'\n  };\n});\nvar ChatImgSize = styled(MessageTime)(function () {\n  return {};\n}); // for previewing bot message\n\nvar globalMessageList = [];\n\nvar Chatbox = function Chatbox(_ref7) {\n  _s();\n\n  var togglePopup = _ref7.togglePopup;\n\n  var _useState = useState(true),\n      _useState2 = _slicedToArray(_useState, 2),\n      isAlive = _useState2[0],\n      setIsAlive = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      message = _useState4[0],\n      setMessage = _useState4[1];\n\n  var _useState5 = useState([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      messageList = _useState6[0],\n      setMessageList = _useState6[1];\n\n  var currentUserId = '7863a6802ez0e277a0f98534';\n  var chatBottomRef = document.querySelector('#chat-scroll');\n\n  var sendMessageOnEnter = function sendMessageOnEnter(event) {\n    if (event.key === 'Enter' && !event.shiftKey) {\n      var tempMessage = message.trim();\n\n      if (tempMessage !== '') {\n        var tempList = _toConsumableArray(messageList);\n\n        var messageObject = {\n          text: tempMessage,\n          contactId: currentUserId\n        };\n        tempList.push(messageObject);\n        globalMessageList.push(messageObject);\n        if (isAlive) setMessageList(tempList);\n        dummyReply();\n      }\n\n      setMessage('');\n    }\n  };\n\n  var dummyReply = /*#__PURE__*/function () {\n    var _ref8 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              setTimeout(function () {\n                var tempList = _toConsumableArray(messageList);\n\n                var messageObject = {\n                  text: 'Good to hear from you. enjoy!!!',\n                  contactId: 'opponents contact id',\n                  avatar: '/assets/images/faces/13.jpg',\n                  name: 'Frank Powell'\n                };\n                tempList.push(messageObject);\n                globalMessageList.push(messageObject);\n                if (isAlive) setMessageList(globalMessageList);\n              }, 2000);\n\n            case 1:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function dummyReply() {\n      return _ref8.apply(this, arguments);\n    };\n  }();\n\n  var scrollToBottom = useCallback(function () {\n    if (chatBottomRef) {\n      chatBottomRef.scrollTo({\n        top: chatBottomRef.scrollHeight,\n        behavior: 'smooth'\n      });\n    }\n  }, [chatBottomRef]);\n  useEffect(function () {\n    if (isAlive) {\n      setMessageList([{\n        contactId: '323sa680b3249760ea21rt47',\n        text: 'Do you ever find yourself falling into the “discount trap?”',\n        time: '2018-02-10T08:45:28.291Z',\n        id: '323sa680b3249760ea21rt47',\n        name: 'Frank Powell',\n        avatar: '/assets/images/faces/13.jpg',\n        status: 'online',\n        mood: ''\n      }, {\n        contactId: '7863a6802ez0e277a0f98534',\n        text: 'Giving away your knowledge or product just to gain clients?',\n        time: '2018-02-10T08:45:28.291Z',\n        id: '7863a6802ez0e277a0f98534',\n        name: 'John Doe',\n        avatar: '/assets/images/face-1.jpg',\n        status: 'online',\n        mood: ''\n      }, {\n        contactId: '323sa680b3249760ea21rt47',\n        text: 'Yes',\n        time: '2018-02-10T08:45:28.291Z',\n        id: '323sa680b3249760ea21rt47',\n        name: 'Frank Powell',\n        avatar: '/assets/images/faces/13.jpg',\n        status: 'online',\n        mood: ''\n      }, {\n        contactId: '7863a6802ez0e277a0f98534',\n        text: 'Don’t feel bad. It happens to a lot of us',\n        time: '2018-02-10T08:45:28.291Z',\n        id: '7863a6802ez0e277a0f98534',\n        name: 'John Doe',\n        avatar: '/assets/images/face-1.jpg',\n        status: 'online',\n        mood: ''\n      }, {\n        contactId: '323sa680b3249760ea21rt47',\n        text: 'Do you ever find yourself falling into the “discount trap?”',\n        time: '2018-02-10T08:45:28.291Z',\n        id: '323sa680b3249760ea21rt47',\n        name: 'Frank Powell',\n        avatar: '/assets/images/faces/13.jpg',\n        status: 'online',\n        mood: ''\n      }, {\n        contactId: '7863a6802ez0e277a0f98534',\n        text: 'Giving away your knowledge or product just to gain clients?',\n        time: '2018-02-10T08:45:28.291Z',\n        id: '7863a6802ez0e277a0f98534',\n        name: 'John Doe',\n        avatar: '/assets/images/face-1.jpg',\n        status: 'online',\n        mood: ''\n      }, {\n        contactId: '323sa680b3249760ea21rt47',\n        text: 'Yes',\n        time: '2018-02-10T08:45:28.291Z',\n        id: '323sa680b3249760ea21rt47',\n        name: 'Frank Powell',\n        avatar: '/assets/images/faces/13.jpg',\n        status: 'online',\n        mood: ''\n      }, {\n        contactId: '7863a6802ez0e277a0f98534',\n        text: 'Don’t feel bad. It happens to a lot of us',\n        time: '2018-02-10T08:45:28.291Z',\n        id: '7863a6802ez0e277a0f98534',\n        name: 'John Doe',\n        avatar: '/assets/images/face-1.jpg',\n        status: 'online',\n        mood: ''\n      }]);\n    } // getChatRoomByContactId(currentUserId, \"323sa680b3249760ea21rt47\").then(\n    //   ({ data }) => {\n    //     if (isAlive) {\n    //       setMessageList(data?.messageList);\n    //     }\n    //   }\n    // );\n\n  }, [isAlive]);\n  useEffect(function () {\n    scrollToBottom();\n    return function () {\n      return setIsAlive(false);\n    };\n  }, [messageList, scrollToBottom]);\n\n  var _useTheme = useTheme(),\n      palette = _useTheme.palette;\n\n  var primary = palette.primary.main;\n  var textPrimary = palette.text.primary;\n  return /*#__PURE__*/_jsxDEV(ChatContainer, {\n    children: [/*#__PURE__*/_jsxDEV(ProfileBox, {\n      children: [/*#__PURE__*/_jsxDEV(Box, {\n        display: \"flex\",\n        alignItems: \"center\",\n        children: [/*#__PURE__*/_jsxDEV(ChatAvatar, {\n          src: \"/assets/images/face-2.jpg\",\n          status: \"online\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 21\n        }, _this), /*#__PURE__*/_jsxDEV(ChatStatus, {\n          children: [/*#__PURE__*/_jsxDEV(H5, {\n            children: \"Ryan Todd\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 246,\n            columnNumber: 25\n          }, _this), /*#__PURE__*/_jsxDEV(Span, {\n            children: \"Active\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 247,\n            columnNumber: 25\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 21\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 17\n      }, _this), /*#__PURE__*/_jsxDEV(IconButton, {\n        onClick: togglePopup,\n        children: /*#__PURE__*/_jsxDEV(Icon, {\n          fontSize: \"small\",\n          children: \"clear\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 21\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 17\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 13\n    }, _this), /*#__PURE__*/_jsxDEV(StyledScrollBar, {\n      id: \"chat-scroll\",\n      children: [messageList.map(function (item, ind) {\n        return /*#__PURE__*/_jsxDEV(Box, {\n          p: \"20px\",\n          display: \"flex\",\n          sx: {\n            justifyContent: currentUserId === item.contactId && 'flex-end'\n          },\n          children: [currentUserId !== item.contactId && /*#__PURE__*/_jsxDEV(Avatar, {\n            src: item.avatar\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 29\n          }, _this), /*#__PURE__*/_jsxDEV(Box, {\n            ml: \"12px\",\n            children: [currentUserId !== item.contactId && /*#__PURE__*/_jsxDEV(H5, {\n              sx: {\n                mb: '4px',\n                fontSize: '14px',\n                color: primary\n              },\n              children: item.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 270,\n              columnNumber: 33\n            }, _this), /*#__PURE__*/_jsxDEV(ChatMessage, {\n              children: item.text\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 280,\n              columnNumber: 29\n            }, _this), /*#__PURE__*/_jsxDEV(MessageTime, {\n              children: \"1 minute ago\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 281,\n              columnNumber: 29\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 25\n          }, _this)]\n        }, ind, true, {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 21\n        }, _this);\n      }), /*#__PURE__*/_jsxDEV(ChatImgContainer, {\n        children: /*#__PURE__*/_jsxDEV(Box, {\n          ml: \"12px\",\n          children: [/*#__PURE__*/_jsxDEV(ChatImgBox, {\n            children: [/*#__PURE__*/_jsxDEV(ChatImg, {\n              alt: \"laptop\",\n              src: \"/assets/images/laptop-1.png\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 290,\n              columnNumber: 29\n            }, _this), /*#__PURE__*/_jsxDEV(Box, {\n              ml: \"12px\",\n              children: [/*#__PURE__*/_jsxDEV(H6, {\n                sx: {\n                  mt: 0,\n                  mb: '4px'\n                },\n                children: \"Asus K555LA.png\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 295,\n                columnNumber: 33\n              }, _this), /*#__PURE__*/_jsxDEV(ChatImgSize, {\n                children: \"21.5KB\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 298,\n                columnNumber: 33\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 294,\n              columnNumber: 29\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 289,\n            columnNumber: 25\n          }, _this), /*#__PURE__*/_jsxDEV(MessageTime, {\n            children: \"1 minute ago\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 301,\n            columnNumber: 25\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 21\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 17\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 13\n    }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Divider, {\n        sx: {\n          background: \"rgba(\".concat(convertHexToRGB(textPrimary), \", 0.15)\")\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 17\n      }, _this), /*#__PURE__*/_jsxDEV(TextField, {\n        placeholder: \"Type here ...\",\n        multiline: true,\n        rowsMax: 4,\n        fullWidth: true,\n        sx: {\n          '& textarea': {\n            color: primary\n          }\n        },\n        InputProps: {\n          endAdornment: /*#__PURE__*/_jsxDEV(Box, {\n            display: \"flex\",\n            children: [/*#__PURE__*/_jsxDEV(IconButton, {\n              size: \"small\",\n              children: /*#__PURE__*/_jsxDEV(Icon, {\n                children: \"tag_faces\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 323,\n                columnNumber: 37\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 322,\n              columnNumber: 33\n            }, _this), /*#__PURE__*/_jsxDEV(IconButton, {\n              size: \"small\",\n              children: /*#__PURE__*/_jsxDEV(Icon, {\n                children: \"attachment\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 326,\n                columnNumber: 37\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 325,\n              columnNumber: 33\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 321,\n            columnNumber: 29\n          }, _this),\n          classes: {\n            root: 'pl-5 pr-3 py-3 text-body'\n          }\n        },\n        value: message,\n        onChange: function onChange(e) {\n          return setMessage(e.target.value);\n        },\n        onKeyUp: sendMessageOnEnter\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 17\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 305,\n      columnNumber: 13\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 238,\n    columnNumber: 9\n  }, _this);\n};\n\n_s(Chatbox, \"G9RQE8Fu98UQlYFPTSrULQjh7ZE=\", false, function () {\n  return [useTheme];\n});\n\n_c = Chatbox;\nexport default Chatbox;\n\nvar _c;\n\n$RefreshReg$(_c, \"Chatbox\");","map":{"version":3,"sources":["/Users/dimartinez/workspace/metrics-api/src/app/components/chat-box-2/Chatbox.jsx"],"names":["H5","H6","Span","ChatAvatar","ScrollBar","Box","styled","useTheme","React","useState","useEffect","useCallback","IconButton","Icon","Divider","TextField","Avatar","convertHexToRGB","ChatContainer","height","display","flexDirection","background","StyledScrollBar","flexGrow","ProfileBox","theme","alignItems","justifyContent","padding","color","palette","primary","main","ChatStatus","marginLeft","marginTop","fontSize","marginBottom","fontWeight","ChatMessage","maxWidth","borderRadius","whiteSpace","wordBreak","MessageTime","ChatImgContainer","ChatImgBox","ChatImg","width","ChatImgSize","globalMessageList","Chatbox","togglePopup","isAlive","setIsAlive","message","setMessage","messageList","setMessageList","currentUserId","chatBottomRef","document","querySelector","sendMessageOnEnter","event","key","shiftKey","tempMessage","trim","tempList","messageObject","text","contactId","push","dummyReply","setTimeout","avatar","name","scrollToBottom","scrollTo","top","scrollHeight","behavior","time","id","status","mood","textPrimary","map","item","ind","mb","mt","endAdornment","classes","root","e","target","value"],"mappings":"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","sourcesContent":["import { H5, H6, Span } from '../Typography'\r\nimport { ChatAvatar } from 'app/components'\r\nimport ScrollBar from 'react-perfect-scrollbar'\r\nimport { Box, styled, useTheme } from '@mui/system'\r\nimport React, { useState, useEffect, useCallback } from 'react'\r\nimport { IconButton, Icon, Divider, TextField, Avatar } from '@mui/material'\r\nimport { convertHexToRGB } from 'app/utils/utils'\r\n\r\nconst ChatContainer = styled('div')(() => ({\r\n    height: '100%',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    background: '#fff',\r\n}))\r\n\r\nconst StyledScrollBar = styled(ScrollBar)(() => ({\r\n    flexGrow: 1,\r\n}))\r\n\r\nconst ProfileBox = styled('div')(({ theme }) => ({\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'space-between',\r\n    padding: '12px 12px 12px 20px',\r\n    color: theme.palette.primary.main,\r\n    background: '#fafafa',\r\n}))\r\n\r\nconst ChatStatus = styled('div')(({ theme }) => ({\r\n    marginLeft: '12px',\r\n    color: theme.palette.primary.main,\r\n    '& h5': {\r\n        marginTop: 0,\r\n        fontSize: '14px',\r\n        marginBottom: '3px',\r\n    },\r\n    '& span': {\r\n        fontWeight: '500',\r\n    },\r\n}))\r\n\r\nconst ChatMessage = styled('div')(({ theme }) => ({\r\n    padding: '8px',\r\n    maxWidth: 240,\r\n    fontSize: '14px',\r\n    borderRadius: '4px',\r\n    marginBottom: '8px',\r\n    whiteSpace: 'pre-wrap',\r\n    wordBreak: 'break-word',\r\n    color: theme.palette.primary.main,\r\n    background: '#fafafa',\r\n}))\r\n\r\nconst MessageTime = styled('span')(({ theme }) => ({\r\n    fontSize: '13px',\r\n    fontWeight: '500',\r\n    color: theme.palette.primary.main,\r\n}))\r\n\r\nconst ChatImgContainer = styled('div')(({ theme }) => ({\r\n    padding: '20px',\r\n    display: 'flex',\r\n    justifyContent: 'flex-end',\r\n}))\r\n\r\nconst ChatImgBox = styled('div')(({ theme }) => ({\r\n    padding: '8px',\r\n    fontSize: '14px',\r\n    maxWidth: 240,\r\n    borderRadius: '4px',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'flex-end',\r\n    color: theme.palette.primary.main,\r\n    background: '#fafafa',\r\n}))\r\n\r\nconst ChatImg = styled('img')(() => ({ width: '40px' }))\r\nconst ChatImgSize = styled(MessageTime)(() => ({}))\r\n\r\n// for previewing bot message\r\nconst globalMessageList = []\r\n\r\nconst Chatbox = ({ togglePopup }) => {\r\n    const [isAlive, setIsAlive] = useState(true)\r\n    const [message, setMessage] = useState('')\r\n    const [messageList, setMessageList] = useState([])\r\n    const currentUserId = '7863a6802ez0e277a0f98534'\r\n    const chatBottomRef = document.querySelector('#chat-scroll')\r\n\r\n    const sendMessageOnEnter = (event) => {\r\n        if (event.key === 'Enter' && !event.shiftKey) {\r\n            let tempMessage = message.trim()\r\n            if (tempMessage !== '') {\r\n                let tempList = [...messageList]\r\n                let messageObject = {\r\n                    text: tempMessage,\r\n                    contactId: currentUserId,\r\n                }\r\n                tempList.push(messageObject)\r\n                globalMessageList.push(messageObject)\r\n                if (isAlive) setMessageList(tempList)\r\n                dummyReply()\r\n            }\r\n            setMessage('')\r\n        }\r\n    }\r\n\r\n    const dummyReply = async () => {\r\n        setTimeout(() => {\r\n            let tempList = [...messageList]\r\n            let messageObject = {\r\n                text: 'Good to hear from you. enjoy!!!',\r\n                contactId: 'opponents contact id',\r\n                avatar: '/assets/images/faces/13.jpg',\r\n                name: 'Frank Powell',\r\n            }\r\n\r\n            tempList.push(messageObject)\r\n            globalMessageList.push(messageObject)\r\n            if (isAlive) setMessageList(globalMessageList)\r\n        }, 2000)\r\n    }\r\n\r\n    const scrollToBottom = useCallback(() => {\r\n        if (chatBottomRef) {\r\n            chatBottomRef.scrollTo({\r\n                top: chatBottomRef.scrollHeight,\r\n                behavior: 'smooth',\r\n            })\r\n        }\r\n    }, [chatBottomRef])\r\n\r\n    useEffect(() => {\r\n        if (isAlive) {\r\n            setMessageList([\r\n                {\r\n                    contactId: '323sa680b3249760ea21rt47',\r\n                    text: 'Do you ever find yourself falling into the “discount trap?”',\r\n                    time: '2018-02-10T08:45:28.291Z',\r\n                    id: '323sa680b3249760ea21rt47',\r\n                    name: 'Frank Powell',\r\n                    avatar: '/assets/images/faces/13.jpg',\r\n                    status: 'online',\r\n                    mood: '',\r\n                },\r\n                {\r\n                    contactId: '7863a6802ez0e277a0f98534',\r\n                    text: 'Giving away your knowledge or product just to gain clients?',\r\n                    time: '2018-02-10T08:45:28.291Z',\r\n                    id: '7863a6802ez0e277a0f98534',\r\n                    name: 'John Doe',\r\n                    avatar: '/assets/images/face-1.jpg',\r\n                    status: 'online',\r\n                    mood: '',\r\n                },\r\n                {\r\n                    contactId: '323sa680b3249760ea21rt47',\r\n                    text: 'Yes',\r\n                    time: '2018-02-10T08:45:28.291Z',\r\n                    id: '323sa680b3249760ea21rt47',\r\n                    name: 'Frank Powell',\r\n                    avatar: '/assets/images/faces/13.jpg',\r\n                    status: 'online',\r\n                    mood: '',\r\n                },\r\n                {\r\n                    contactId: '7863a6802ez0e277a0f98534',\r\n                    text: 'Don’t feel bad. It happens to a lot of us',\r\n                    time: '2018-02-10T08:45:28.291Z',\r\n                    id: '7863a6802ez0e277a0f98534',\r\n                    name: 'John Doe',\r\n                    avatar: '/assets/images/face-1.jpg',\r\n                    status: 'online',\r\n                    mood: '',\r\n                },\r\n                {\r\n                    contactId: '323sa680b3249760ea21rt47',\r\n                    text: 'Do you ever find yourself falling into the “discount trap?”',\r\n                    time: '2018-02-10T08:45:28.291Z',\r\n                    id: '323sa680b3249760ea21rt47',\r\n                    name: 'Frank Powell',\r\n                    avatar: '/assets/images/faces/13.jpg',\r\n                    status: 'online',\r\n                    mood: '',\r\n                },\r\n                {\r\n                    contactId: '7863a6802ez0e277a0f98534',\r\n                    text: 'Giving away your knowledge or product just to gain clients?',\r\n                    time: '2018-02-10T08:45:28.291Z',\r\n                    id: '7863a6802ez0e277a0f98534',\r\n                    name: 'John Doe',\r\n                    avatar: '/assets/images/face-1.jpg',\r\n                    status: 'online',\r\n                    mood: '',\r\n                },\r\n                {\r\n                    contactId: '323sa680b3249760ea21rt47',\r\n                    text: 'Yes',\r\n                    time: '2018-02-10T08:45:28.291Z',\r\n                    id: '323sa680b3249760ea21rt47',\r\n                    name: 'Frank Powell',\r\n                    avatar: '/assets/images/faces/13.jpg',\r\n                    status: 'online',\r\n                    mood: '',\r\n                },\r\n                {\r\n                    contactId: '7863a6802ez0e277a0f98534',\r\n                    text: 'Don’t feel bad. It happens to a lot of us',\r\n                    time: '2018-02-10T08:45:28.291Z',\r\n                    id: '7863a6802ez0e277a0f98534',\r\n                    name: 'John Doe',\r\n                    avatar: '/assets/images/face-1.jpg',\r\n                    status: 'online',\r\n                    mood: '',\r\n                },\r\n            ])\r\n        }\r\n        // getChatRoomByContactId(currentUserId, \"323sa680b3249760ea21rt47\").then(\r\n        //   ({ data }) => {\r\n        //     if (isAlive) {\r\n        //       setMessageList(data?.messageList);\r\n        //     }\r\n        //   }\r\n        // );\r\n    }, [isAlive])\r\n\r\n    useEffect(() => {\r\n        scrollToBottom()\r\n        return () => setIsAlive(false)\r\n    }, [messageList, scrollToBottom])\r\n\r\n    const { palette } = useTheme()\r\n    const primary = palette.primary.main\r\n    const textPrimary = palette.text.primary\r\n\r\n    return (\r\n        <ChatContainer>\r\n            <ProfileBox>\r\n                <Box display=\"flex\" alignItems=\"center\">\r\n                    <ChatAvatar\r\n                        src=\"/assets/images/face-2.jpg\"\r\n                        status=\"online\"\r\n                    />\r\n                    <ChatStatus>\r\n                        <H5>Ryan Todd</H5>\r\n                        <Span>Active</Span>\r\n                    </ChatStatus>\r\n                </Box>\r\n                <IconButton onClick={togglePopup}>\r\n                    <Icon fontSize=\"small\">clear</Icon>\r\n                </IconButton>\r\n            </ProfileBox>\r\n            <StyledScrollBar id=\"chat-scroll\">\r\n                {messageList.map((item, ind) => (\r\n                    <Box\r\n                        key={ind}\r\n                        p=\"20px\"\r\n                        display=\"flex\"\r\n                        sx={{\r\n                            justifyContent:\r\n                                currentUserId === item.contactId && 'flex-end',\r\n                        }}\r\n                    >\r\n                        {currentUserId !== item.contactId && (\r\n                            <Avatar src={item.avatar} />\r\n                        )}\r\n                        <Box ml=\"12px\">\r\n                            {currentUserId !== item.contactId && (\r\n                                <H5\r\n                                    sx={{\r\n                                        mb: '4px',\r\n                                        fontSize: '14px',\r\n                                        color: primary,\r\n                                    }}\r\n                                >\r\n                                    {item.name}\r\n                                </H5>\r\n                            )}\r\n                            <ChatMessage>{item.text}</ChatMessage>\r\n                            <MessageTime>1 minute ago</MessageTime>\r\n                        </Box>\r\n                    </Box>\r\n                ))}\r\n\r\n                {/* example of image sent by current user*/}\r\n                <ChatImgContainer>\r\n                    <Box ml=\"12px\">\r\n                        <ChatImgBox>\r\n                            <ChatImg\r\n                                alt=\"laptop\"\r\n                                src=\"/assets/images/laptop-1.png\"\r\n                            />\r\n                            <Box ml=\"12px\">\r\n                                <H6 sx={{ mt: 0, mb: '4px' }}>\r\n                                    Asus K555LA.png\r\n                                </H6>\r\n                                <ChatImgSize>21.5KB</ChatImgSize>\r\n                            </Box>\r\n                        </ChatImgBox>\r\n                        <MessageTime>1 minute ago</MessageTime>\r\n                    </Box>\r\n                </ChatImgContainer>\r\n            </StyledScrollBar>\r\n            <div>\r\n                <Divider\r\n                    sx={{\r\n                        background: `rgba(${convertHexToRGB(\r\n                            textPrimary\r\n                        )}, 0.15)`,\r\n                    }}\r\n                />\r\n                <TextField\r\n                    placeholder=\"Type here ...\"\r\n                    multiline\r\n                    rowsMax={4}\r\n                    fullWidth\r\n                    sx={{ '& textarea': { color: primary } }}\r\n                    InputProps={{\r\n                        endAdornment: (\r\n                            <Box display=\"flex\">\r\n                                <IconButton size=\"small\">\r\n                                    <Icon>tag_faces</Icon>\r\n                                </IconButton>\r\n                                <IconButton size=\"small\">\r\n                                    <Icon>attachment</Icon>\r\n                                </IconButton>\r\n                            </Box>\r\n                        ),\r\n                        classes: { root: 'pl-5 pr-3 py-3 text-body' },\r\n                    }}\r\n                    value={message}\r\n                    onChange={(e) => setMessage(e.target.value)}\r\n                    onKeyUp={sendMessageOnEnter}\r\n                />\r\n            </div>\r\n        </ChatContainer>\r\n    )\r\n}\r\n\r\nexport default Chatbox\r\n"]},"metadata":{},"sourceType":"module"}