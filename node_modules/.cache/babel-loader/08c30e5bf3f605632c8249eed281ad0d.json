{"ast":null,"code":"import _objectSpread from \"/Users/dimartinez/workspace/matx-react-master/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _slicedToArray from \"/Users/dimartinez/workspace/matx-react-master/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\n\nvar _jsxFileName = \"/Users/dimartinez/workspace/matx-react-master/src/app/views/metrics/AutocompleteCombo.jsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport React, { Fragment, lazy } from 'react';\nimport { Autocomplete, TextField } from '@mui/material';\nimport { createFilterOptions } from '@mui/material/Autocomplete';\nimport { styled, useTheme } from '@mui/system';\nimport Loadable from \"../../components/Loadable/Loadable\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar Result = Loadable(_c2 = /*#__PURE__*/lazy(_c = function _c() {\n  return import(\"./Result\");\n}));\n_c3 = Result;\nvar MetricChart = Loadable(_c5 = /*#__PURE__*/lazy(_c4 = function _c4() {\n  return import(\"./MetricChart\");\n}));\n_c6 = MetricChart;\nvar AutoComplete = styled(Autocomplete)(function () {\n  return {\n    width: 300,\n    marginBottom: '16px'\n  };\n});\nvar suggestions = [{\n  label: 'Past 5 minutes',\n  value: '0'\n}, {\n  label: 'Past 15 minutes',\n  value: '1'\n}, {\n  label: 'Past 30 minutes',\n  value: '2'\n}, {\n  label: 'Past 1 hour',\n  value: '3'\n}, {\n  label: 'Past 4 hours',\n  value: '4'\n}, {\n  label: 'Past 10 hours',\n  value: '5'\n}, {\n  label: 'Past 1 day',\n  value: '6'\n}, {\n  label: 'Past 2 days',\n  value: '7'\n}, {\n  label: 'Past 7 days',\n  value: '8'\n}, {\n  label: 'Past 1 month',\n  value: '9'\n}, {\n  label: 'Past 3 month',\n  value: '10'\n}, {\n  label: 'Past 1 year',\n  value: '11'\n}];\nvar filter = createFilterOptions();\n\nvar AutocompleteCombo = function AutocompleteCombo() {\n  _s();\n\n  var theme = useTheme();\n\n  var _React$useState = React.useState([]),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      source = _React$useState2[0],\n      setSource = _React$useState2[1];\n\n  var _React$useState3 = React.useState(null),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      value = _React$useState4[0],\n      setValue = _React$useState4[1];\n\n  var _React$useState5 = React.useState({\n    isSubmitted: false\n  }),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      state = _React$useState6[0],\n      setState = _React$useState6[1];\n\n  var _React$useState7 = React.useState({\n    name: '',\n    value: ''\n  }),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      responseData = _React$useState8[0],\n      setResponseData = _React$useState8[1];\n\n  var _React$useState9 = React.useState([]),\n      _React$useState10 = _slicedToArray(_React$useState9, 2),\n      labelsX = _React$useState10[0],\n      setLabelsX = _React$useState10[1];\n\n  var handleChange = function handleChange(event, newValue) {\n    if (newValue && newValue.inputValue) {\n      setValue({\n        label: newValue.inputValue\n      });\n      return;\n    }\n\n    setValue(newValue);\n    calculateValuesAxisX(newValue.value);\n    setSource(labelsX);\n    console.log('source: ' + source);\n    console.log('labels X: ' + labelsX);\n    var swUrl = \"https://metrics-351617.rj.r.appspot.com/metrics/\";\n    fetch(swUrl).then(function (response) {\n      return response.json();\n    }).then(function (response) {\n      console.log(response);\n      setResponseData(response);\n      setState({\n        isSubmitted: true\n      });\n    }).catch(function (error) {\n      console.log('error: ' + error);\n    });\n  };\n\n  var filterOptions = function filterOptions(options, params) {\n    var filtered = filter(options, params);\n\n    if (params.inputValue !== '') {\n      filtered.push({\n        inputValue: params.inputValue,\n        label: \"Add \\\"\".concat(params.inputValue, \"\\\"\")\n      });\n    }\n\n    return filtered;\n  };\n\n  var calculateValuesAxisX = function calculateValuesAxisX(paramTime) {\n    var current = new Date();\n    var myPastDate = new Date(current);\n    var labels = []; // 5 minutes\n\n    if (paramTime == 0) {\n      myPastDate.setMinutes(myPastDate.getMinutes() - 5);\n      var initialDate = myPastDate;\n\n      for (var i = 0; i <= 5; i++) {\n        labelsX[i] = \"\".concat(initialDate.getHours(), \":\").concat(initialDate.getMinutes());\n        initialDate.setMinutes(initialDate.getMinutes() + 1);\n      }\n    } // 15 minutes\n\n\n    if (paramTime == 1) {\n      myPastDate.setMinutes(myPastDate.getMinutes() - 15);\n      var _initialDate = myPastDate;\n\n      for (var i = 0; i <= 5; i++) {\n        labelsX[i] = \"\".concat(_initialDate.getHours(), \":\").concat(_initialDate.getMinutes());\n\n        _initialDate.setMinutes(_initialDate.getMinutes() + 3);\n      }\n    } // 30 minutes\n\n\n    if (paramTime == 2) {\n      myPastDate.setMinutes(myPastDate.getMinutes() - 30);\n      var _initialDate2 = myPastDate;\n\n      for (var i = 0; i <= 5; i++) {\n        labelsX[i] = \"\".concat(_initialDate2.getHours(), \":\").concat(_initialDate2.getMinutes());\n\n        _initialDate2.setMinutes(_initialDate2.getMinutes() + 6);\n      }\n    } // 1 hour\n\n\n    if (paramTime == 3) {\n      myPastDate.setHours(myPastDate.getHours() - 1);\n      var _initialDate3 = myPastDate;\n\n      for (var i = 0; i <= 5; i++) {\n        labelsX[i] = \"\".concat(_initialDate3.getHours(), \":\").concat(_initialDate3.getMinutes());\n\n        _initialDate3.setMinutes(_initialDate3.getMinutes() + 12);\n      }\n    } // 4 hour\n\n\n    if (paramTime == 4) {\n      myPastDate.setHours(myPastDate.getHours() - 4);\n      var _initialDate4 = myPastDate;\n\n      for (var i = 0; i <= 5; i++) {\n        labelsX[i] = \"\".concat(_initialDate4.getHours(), \":\").concat(_initialDate4.getMinutes());\n\n        _initialDate4.setMinutes(_initialDate4.getMinutes() + 48);\n      }\n    } // 10 hour\n\n\n    if (paramTime == 5) {\n      myPastDate.setHours(myPastDate.getHours() - 10);\n      var _initialDate5 = myPastDate;\n\n      for (var i = 0; i <= 5; i++) {\n        labelsX[i] = \"\".concat(_initialDate5.getHours(), \":\").concat(_initialDate5.getMinutes());\n\n        _initialDate5.setMinutes(_initialDate5.getMinutes() + 120);\n      }\n    } // 1 day\n\n\n    if (paramTime == 6) {\n      myPastDate.setDate(myPastDate.getDate() - 1);\n      var _initialDate6 = myPastDate;\n\n      for (var i = 0; i <= 8; i++) {\n        var dayText = _initialDate6.toLocaleString('en-us', {\n          weekday: 'short'\n        });\n\n        labelsX[i] = \"\".concat(dayText, \" \").concat((_initialDate6.getHours() + 24) % 12, \":\").concat(_initialDate6.getMinutes());\n\n        _initialDate6.setHours(_initialDate6.getHours() + 3);\n      }\n    } // 2 day\n\n\n    if (paramTime == 7) {\n      myPastDate.setDate(myPastDate.getDate() - 2);\n      var _initialDate7 = myPastDate;\n\n      for (var i = 0; i <= 8; i++) {\n        labelsX[i] = \"\".concat(_initialDate7.getDay(), \" \").concat(_initialDate7.getHours(), \":\").concat(_initialDate7.getMinutes());\n\n        _initialDate7.setHours(_initialDate7.getHours() + 6);\n      }\n    } // 7 day\n\n\n    if (paramTime == 8) {\n      myPastDate.setDate(myPastDate.getDate() - 7);\n      var _initialDate8 = myPastDate;\n\n      for (var i = 0; i <= 8; i++) {\n        labelsX[i] = \"\".concat(_initialDate8.getDay(), \" \").concat(_initialDate8.getHours(), \":\").concat(_initialDate8.getMinutes());\n\n        _initialDate8.setHours(_initialDate8.getHours() + 21);\n      }\n    } // 1 month\n\n\n    if (paramTime == 9) {\n      myPastDate.setMonth(myPastDate.getMonth() - 1);\n      var _initialDate9 = myPastDate;\n\n      for (var i = 0; i <= 4; i++) {\n        labelsX[i] = \"\".concat(_initialDate9.getMonth(), \" \").concat(_initialDate9.getDate());\n\n        _initialDate9.setHours(_initialDate9.getHours() + 180);\n      }\n    } // 3 month\n\n\n    if (paramTime == 10) {\n      myPastDate.setMonth(myPastDate.getMonth() - 3);\n      var _initialDate10 = myPastDate;\n\n      for (var i = 0; i <= 6; i++) {\n        labelsX[i] = \"\".concat(_initialDate10.getMonth(), \" \").concat(_initialDate10.getDate(), \"}\");\n\n        _initialDate10.setDate(_initialDate10.getDate() + 15);\n      }\n    } // 1 year\n\n\n    if (paramTime == 11) {\n      myPastDate.setFullYear(myPastDate.getFullYear() - 1);\n      var _initialDate11 = myPastDate;\n\n      for (var i = 0; i <= 12; i++) {\n        labelsX[i] = \"\".concat(_initialDate11.getFullYear(), \" \").concat(_initialDate11.getMonth(), \"}\");\n\n        _initialDate11.setMonth(_initialDate11.getMonth() + 1);\n      }\n    }\n\n    setLabelsX(labels);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(AutoComplete, {\n      options: suggestions,\n      getOptionLabel: function getOptionLabel(option) {\n        return option.label;\n      },\n      onChange: handleChange,\n      renderInput: function renderInput(params) {\n        return /*#__PURE__*/_jsxDEV(TextField, _objectSpread(_objectSpread({}, params), {}, {\n          label: \"Combo box\",\n          variant: \"outlined\",\n          fullWidth: true\n        }), void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 21\n        }, _this);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 13\n    }, _this), /*#__PURE__*/_jsxDEV(MetricChart, {\n      height: \"350px\",\n      color: [theme.palette.primary.dark, theme.palette.primary.light],\n      values: source\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 13\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 232,\n    columnNumber: 9\n  }, _this);\n};\n\n_s(AutocompleteCombo, \"UqLiFE8anvBRCEzhqLhUhp+lzFw=\", false, function () {\n  return [useTheme];\n});\n\n_c7 = AutocompleteCombo;\nexport default AutocompleteCombo;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7;\n\n$RefreshReg$(_c, \"Result$Loadable$lazy\");\n$RefreshReg$(_c2, \"Result$Loadable\");\n$RefreshReg$(_c3, \"Result\");\n$RefreshReg$(_c4, \"MetricChart$Loadable$lazy\");\n$RefreshReg$(_c5, \"MetricChart$Loadable\");\n$RefreshReg$(_c6, \"MetricChart\");\n$RefreshReg$(_c7, \"AutocompleteCombo\");","map":{"version":3,"sources":["/Users/dimartinez/workspace/matx-react-master/src/app/views/metrics/AutocompleteCombo.jsx"],"names":["React","Fragment","lazy","Autocomplete","TextField","createFilterOptions","styled","useTheme","Loadable","Result","MetricChart","AutoComplete","width","marginBottom","suggestions","label","value","filter","AutocompleteCombo","theme","useState","source","setSource","setValue","isSubmitted","state","setState","name","responseData","setResponseData","labelsX","setLabelsX","handleChange","event","newValue","inputValue","calculateValuesAxisX","console","log","swUrl","fetch","then","response","json","catch","error","filterOptions","options","params","filtered","push","paramTime","current","Date","myPastDate","labels","setMinutes","getMinutes","initialDate","i","getHours","setHours","setDate","getDate","dayText","toLocaleString","weekday","getDay","setMonth","getMonth","setFullYear","getFullYear","option","palette","primary","dark","light"],"mappings":"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","sourcesContent":["import React, {Fragment, lazy} from 'react'\nimport {Autocomplete, TextField} from '@mui/material'\nimport {createFilterOptions} from '@mui/material/Autocomplete'\nimport {styled, useTheme} from '@mui/system'\nimport Loadable from \"../../components/Loadable/Loadable\"\n\nconst Result = Loadable(lazy(() => import(\"./Result\")))\nconst MetricChart = Loadable(lazy(() => import(\"./MetricChart\")))\n\nconst AutoComplete = styled(Autocomplete)(() => ({\n    width: 300,\n    marginBottom: '16px',\n}))\n\nconst suggestions = [\n    {label: 'Past 5 minutes', value: '0'},\n    {label: 'Past 15 minutes', value: '1'},\n    {label: 'Past 30 minutes', value: '2'},\n    {label: 'Past 1 hour', value: '3'},\n    {label: 'Past 4 hours', value: '4'},\n    {label: 'Past 10 hours', value: '5'},\n    {label: 'Past 1 day', value: '6'},\n    {label: 'Past 2 days', value: '7'},\n    {label: 'Past 7 days', value: '8'},\n    {label: 'Past 1 month', value: '9'},\n    {label: 'Past 3 month', value: '10'},\n    {label: 'Past 1 year', value: '11'},\n]\n\nconst filter = createFilterOptions()\n\nconst AutocompleteCombo = () => {\n    const theme = useTheme()\n\n    const [source, setSource] = React.useState([])\n    const [value, setValue] = React.useState(null)\n    const [state, setState] = React.useState({\n        isSubmitted: false,\n    })\n    const [responseData, setResponseData] = React.useState({\n        name: '',\n        value: '',\n    })\n    const [labelsX, setLabelsX] = React.useState([])\n\n    const handleChange = (event, newValue) => {\n        if (newValue && newValue.inputValue) {\n            setValue({\n                label: newValue.inputValue,\n            })\n            return\n        }\n\n        setValue(newValue)\n        calculateValuesAxisX(newValue.value)\n\n        setSource( labelsX)\n        console.log('source: ' + source)\n        console.log('labels X: ' + labelsX)\n\n        const swUrl = `https://metrics-351617.rj.r.appspot.com/metrics/`\n        fetch(swUrl)\n            .then(response => response.json())\n            .then(response => {\n                console.log(response)\n                setResponseData(response)\n                setState({isSubmitted: true})\n\n            })\n            .catch((error) => {\n                console.log(\n                    'error: ' + error\n                )\n            })\n    }\n\n    const filterOptions = (options, params) => {\n        const filtered = filter(options, params)\n        if (params.inputValue !== '') {\n            filtered.push({\n                inputValue: params.inputValue,\n                label: `Add \"${params.inputValue}\"`,\n            })\n        }\n        return filtered\n    }\n\n\n    const calculateValuesAxisX = (paramTime) => {\n\n        const current = new Date();\n        const myPastDate = new Date(current);\n        const labels = [];\n\n        // 5 minutes\n        if (paramTime == 0) {\n            myPastDate.setMinutes(myPastDate.getMinutes() - 5)\n            const initialDate = myPastDate;\n\n            for (var i = 0; i <= 5; i++) {\n                labelsX[i] = `${initialDate.getHours()}:${initialDate.getMinutes()}`\n                initialDate.setMinutes(initialDate.getMinutes() + 1)\n            }\n        }\n\n        // 15 minutes\n        if (paramTime == 1) {\n            myPastDate.setMinutes(myPastDate.getMinutes() - 15)\n            const initialDate = myPastDate;\n\n            for (var i = 0; i <= 5; i++) {\n                labelsX[i] = `${initialDate.getHours()}:${initialDate.getMinutes()}`\n                initialDate.setMinutes(initialDate.getMinutes() + 3)\n            }\n        }\n\n        // 30 minutes\n        if (paramTime == 2) {\n            myPastDate.setMinutes(myPastDate.getMinutes() - 30)\n            const initialDate = myPastDate;\n\n            for (var i = 0; i <= 5; i++) {\n                labelsX[i] = `${initialDate.getHours()}:${initialDate.getMinutes()}`\n                initialDate.setMinutes(initialDate.getMinutes() + 6)\n            }\n        }\n\n        // 1 hour\n        if (paramTime == 3) {\n            myPastDate.setHours(myPastDate.getHours() - 1)\n            const initialDate = myPastDate;\n\n            for (var i = 0; i <= 5; i++) {\n                labelsX[i] = `${initialDate.getHours()}:${initialDate.getMinutes()}`\n                initialDate.setMinutes(initialDate.getMinutes() + 12)\n            }\n        }\n\n        // 4 hour\n        if (paramTime == 4) {\n            myPastDate.setHours(myPastDate.getHours() - 4)\n            const initialDate = myPastDate;\n\n            for (var i = 0; i <= 5; i++) {\n                labelsX[i] = `${initialDate.getHours()}:${initialDate.getMinutes()}`\n                initialDate.setMinutes(initialDate.getMinutes() + 48)\n            }\n        }\n\n        // 10 hour\n        if (paramTime == 5) {\n            myPastDate.setHours(myPastDate.getHours() - 10)\n            const initialDate = myPastDate;\n\n            for (var i = 0; i <= 5; i++) {\n                labelsX[i] = `${initialDate.getHours()}:${initialDate.getMinutes()}`\n                initialDate.setMinutes(initialDate.getMinutes() + 120)\n            }\n        }\n\n        // 1 day\n        if (paramTime == 6) {\n            myPastDate.setDate(myPastDate.getDate() - 1)\n            const initialDate = myPastDate;\n\n            for (var i = 0; i <= 8; i++) {\n                var dayText = initialDate.toLocaleString('en-us', {  weekday: 'short' })\n                labelsX[i] = `${dayText} ${(initialDate.getHours() + 24) % 12}:${initialDate.getMinutes()}`\n                initialDate.setHours(initialDate.getHours() + 3)\n            }\n        }\n\n        // 2 day\n        if (paramTime == 7) {\n            myPastDate.setDate(myPastDate.getDate() - 2)\n            const initialDate = myPastDate;\n\n            for (var i = 0; i <= 8; i++) {\n                labelsX[i] = `${initialDate.getDay()} ${initialDate.getHours()}:${initialDate.getMinutes()}`\n                initialDate.setHours(initialDate.getHours() + 6)\n            }\n        }\n\n        // 7 day\n        if (paramTime == 8) {\n            myPastDate.setDate(myPastDate.getDate() - 7)\n            const initialDate = myPastDate;\n\n            for (var i = 0; i <= 8; i++) {\n                labelsX[i] = `${initialDate.getDay()} ${initialDate.getHours()}:${initialDate.getMinutes()}`\n                initialDate.setHours(initialDate.getHours() + 21)\n            }\n        }\n\n        // 1 month\n        if (paramTime == 9) {\n            myPastDate.setMonth(myPastDate.getMonth() - 1)\n            const initialDate = myPastDate;\n\n            for (var i = 0; i <= 4; i++) {\n                labelsX[i] = `${initialDate.getMonth()} ${initialDate.getDate()}`\n                initialDate.setHours(initialDate.getHours() + 180)\n            }\n        }\n\n        // 3 month\n        if (paramTime == 10) {\n            myPastDate.setMonth(myPastDate.getMonth() - 3)\n            const initialDate = myPastDate;\n\n            for (var i = 0; i <= 6; i++) {\n                labelsX[i] = `${initialDate.getMonth()} ${initialDate.getDate()}}`\n                initialDate.setDate(initialDate.getDate() + 15)\n            }\n        }\n\n        // 1 year\n        if (paramTime == 11) {\n            myPastDate.setFullYear(myPastDate.getFullYear() - 1)\n            const initialDate = myPastDate;\n\n            for (var i = 0; i <= 12; i++) {\n                labelsX[i] = `${initialDate.getFullYear()} ${initialDate.getMonth()}}`\n                initialDate.setMonth(initialDate.getMonth() + 1)\n            }\n        }\n\n        setLabelsX(labels)\n    }\n\n    return (\n        <Fragment>\n            <AutoComplete\n                options={suggestions}\n                getOptionLabel={(option) => option.label}\n                onChange={handleChange}\n                renderInput={(params) => (\n                    <TextField\n                        {...params}\n                        label=\"Combo box\"\n                        variant=\"outlined\"\n                        fullWidth\n                    />\n                )}\n            />\n            {\n            <MetricChart\n                height=\"350px\"\n                color={[\n                    theme.palette.primary.dark,\n                    theme.palette.primary.light,\n                ]}\n                values={source}\n            />\n            }\n        </Fragment>\n    )\n}\n\nexport default AutocompleteCombo\n"]},"metadata":{},"sourceType":"module"}