{"ast":null,"code":"import _objectSpread from\"/home/dikmarti/metrics-api/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _objectWithoutProperties from\"/home/dikmarti/metrics-api/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";var _excluded=[\"start\",\"end\"];import Mock from'../mock';var date=new Date();var calendarEventDB={events:[{id:'344jdfher3wh23',title:'Meeting with all employees',start:new Date(date.getFullYear(),date.getMonth(),1),end:new Date(date.getFullYear(),date.getMonth(),3)},{id:'dfdfdsfedrevcr',title:'A trip to Bali Island',start:new Date(),end:new Date(date.getFullYear(),date.getMonth(),date.getDate()+2)}]};Mock.onGet('/api/calendar/events/all').reply(function(config){return[200,calendarEventDB.events];});Mock.onPost('/api/calendar/events/add').reply(function(config){var _JSON$parse=JSON.parse(config.data),start=_JSON$parse.start,end=_JSON$parse.end,others=_objectWithoutProperties(_JSON$parse,_excluded);var event=_objectSpread({start:new Date(start),end:new Date(end)},others);calendarEventDB.events.push(event);return[200,calendarEventDB.events];});Mock.onPost('/api/calendar/events/update').reply(function(config){var updatedEvent=JSON.parse(config.data);if(updatedEvent.event){// resize or move event handling\ncalendarEventDB.events.map(function(event){if(event.id===updatedEvent.event.id){event.start=new Date(updatedEvent.start);event.end=new Date(updatedEvent.end);}return event;});}else{calendarEventDB.events.map(function(event){if(event.id===updatedEvent.id){event.start=new Date(updatedEvent.start);event.end=new Date(updatedEvent.end);event.title=updatedEvent.title;event.location=updatedEvent.location;event.note=updatedEvent.note;}return event;});}return[200,calendarEventDB.events];});Mock.onPost('/api/calendar/events/delete').reply(function(config){var event=JSON.parse(config.data);var index={i:0};calendarEventDB.events.forEach(function(element){if(element.id===event.id){return[200,calendarEventDB.events.splice(index.i,1)];}index.i++;});return[200,calendarEventDB.events];});","map":null,"metadata":{},"sourceType":"module"}