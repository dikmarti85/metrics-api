{"ast":null,"code":"import _toConsumableArray from\"/home/dikmarti/metrics-api/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"/home/dikmarti/metrics-api/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/home/dikmarti/metrics-api/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import Mock from'../mock';import*as _ from'lodash';import shortId from'shortid';// board => list => cardList\nvar ScrumBoardDB={boardList:[{id:'c5d7498bbcb84d81fc7454448871ac6a6e',title:'Matx React',list:[{id:shortId.generate(),title:'Drag and Drop',cardList:[{id:shortId.generate(),title:'Beautiful DnD',coverImage:'/assets/images/sq-9.jpg',members:['323sa680b3249760ea21rt47','7863a6802ez0e277a0f98534','14663a3406eb47ffa63d4fec9429cb71','43bd9bc59d164b5aea498e3ae1c24c3c','e929b1d790ab49968ed8e34648553df4'],labels:[2,3,4],description:\"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book.\",attachments:[{name:'sky-life.jpg',size:'1.2 MB',url:'/assets/images/sq-11.jpg'}],comments:[{id:shortId.generate(),uid:'7863a6802ez0e277a0f98534',text:\"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book.\",time:new Date()}]},{id:shortId.generate(),title:'Nested DnD',coverImage:'/assets/images/sq-11.jpg',members:['323sa680b3249760ea21rt47','7863a6802ez0e277a0f98534','14663a3406eb47ffa63d4fec9429cb71','43bd9bc59d164b5aea498e3ae1c24c3c','e929b1d790ab49968ed8e34648553df4'],labels:[2,3,4],description:\"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book.\",attachments:[{name:'sky-life.jpg',size:'1.2 MB',url:'/assets/images/sq-11.jpg'}],comments:[{id:shortId.generate(),uid:'323sa680b3249760ea21rt47',text:\"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book.\",time:new Date()}]}]},{id:shortId.generate(),title:'Chat App',cardList:[{id:shortId.generate(),title:'Beautiful DnD',coverImage:'/assets/images/sq-11.jpg',members:['323sa680b3249760ea21rt47','7863a6802ez0e277a0f98534','14663a3406eb47ffa63d4fec9429cb71','43bd9bc59d164b5aea498e3ae1c24c3c','e929b1d790ab49968ed8e34648553df4'],labels:[2,3,4],description:\"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book.\",attachments:[{name:'sky-life.jpg',size:'1.2 MB',url:'/assets/images/sq-11.jpg'}],comments:[{id:shortId.generate(),uid:'e929b1d790ab49968ed8e34648553df4',text:\"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book.\",time:new Date()}]},{id:shortId.generate(),title:'Nested DnD',coverImage:'/assets/images/sq-13.jpg',members:['323sa680b3249760ea21rt47','7863a6802ez0e277a0f98534','14663a3406eb47ffa63d4fec9429cb71','43bd9bc59d164b5aea498e3ae1c24c3c','e929b1d790ab49968ed8e34648553df4'],labels:[2,3,4],description:\"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book.\",attachments:[{name:'sky-life.jpg',size:'1.2 MB',url:'/assets/images/sq-11.jpg'}],comments:[{id:shortId.generate(),uid:'e929b1d790ab49968ed8e34648553df4',text:\"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book.\",time:new Date()}]}]}],members:[// only member id\n'323sa680b3249760ea21rt47','7863a6802ez0e277a0f98534','14663a3406eb47ffa63d4fec9429cb71','43bd9bc59d164b5aea498e3ae1c24c3c','e929b1d790ab49968ed8e34648553df4']},{id:'c5d7498bbcb84d81fc72168871ac6a6e',title:'Matx Angular',list:[{id:shortId.generate(),title:'Drag and Drop',cardList:[{id:shortId.generate(),title:'Beautiful DnD',coverImage:'/assets/images/sq-9.jpg',members:['323sa680b3249760ea21rt47','7863a6802ez0e277a0f98534','14663a3406eb47ffa63d4fec9429cb71','43bd9bc59d164b5aea498e3ae1c24c3c','e929b1d790ab49968ed8e34648553df4'],labels:[2,3,4],description:\"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever s\",attachments:[{name:'sky-life.jpg',size:'1.2 MB',url:'/assets/images/sq-11.jpg'}],comments:[{id:shortId.generate(),uid:'e929b1d790ab49968ed8e34648553df4',text:\"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book.\",time:new Date()}]},{id:shortId.generate(),title:'Nested DnD',coverImage:'/assets/images/sq-11.jpg',members:['323sa680b3249760ea21rt47','7863a6802ez0e277a0f98534','14663a3406eb47ffa63d4fec9429cb71','43bd9bc59d164b5aea498e3ae1c24c3c','e929b1d790ab49968ed8e34648553df4'],labels:[2,3,4],description:\"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever s\",attachments:[{name:'sky-life.jpg',size:'1.2 MB',url:'/assets/images/sq-9.jpg'},{name:'stair.jpg',size:'2.8 MB',url:'/assets/images/sq-11.jpg'}],comments:[{id:shortId.generate(),uid:'e929b1d790ab49968ed8e34648553df4',text:\"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book.\",time:new Date()}]}]}],members:[// only member id\n'323sa680b3249760ea21rt47','7863a6802ez0e277a0f98534','14663a3406eb47ffa63d4fec9429cb71','43bd9bc59d164b5aea498e3ae1c24c3c','e929b1d790ab49968ed8e34648553df4']}],labels:[{id:1,title:'Active',color:'primary'},{id:2,title:'Complete',color:'green'},{id:3,title:'Ready',color:'secondary'},{id:4,title:'High Priority',color:'error'}],members:[{id:'1',name:'John Doe',avatar:'/assets/images/face-7.jpg'},{id:'323sa680b3249760ea21rt47',name:'Frank Powell',avatar:'/assets/images/faces/13.jpg'},{id:'7863a6802ez0e277a0f98534',name:'John Doe',avatar:'/assets/images/face-1.jpg'},{id:'14663a3406eb47ffa63d4fec9429cb71',name:'Betty Diaz',avatar:'/assets/images/faces/12.jpg'},{id:'43bd9bc59d164b5aea498e3ae1c24c3c',name:'Brian Stephens',avatar:'/assets/images/faces/3.jpg'},{id:'3fc8e01f3ce649d1caf884fbf4f698e4',name:'Jacqueline Day',avatar:'/assets/images/faces/16.jpg'},{id:'e929b1d790ab49968ed8e34648553df4',name:'Arthur Mendoza',avatar:'/assets/images/faces/10.jpg'},{id:'d6caf04bba614632b5fecf91aebf4564',name:'Jeremy Lee',avatar:'/assets/images/faces/9.jpg'},{id:'be0fb188c8e242f097fafa24632107e4',name:'Johnny Newman',avatar:'/assets/images/faces/5.jpg'},{id:'dea902191b964a68ba5f2d93cff37e13',name:'Jeffrey Little',avatar:'/assets/images/faces/15.jpg'},{id:'0bf58f5ccc4543a9f8747350b7bda3c7',name:'Barbara Romero',avatar:'/assets/images/faces/4.jpg'},{id:'c5d7498bbcb84d81fc72168871ac6a6e',name:'Daniel James',avatar:'/assets/images/faces/2.jpg'},{id:'97bfbdd9413e46efdaca2010400fe18c',name:'Alice Sanders',avatar:'/assets/images/faces/17.jpg'}]};// a little function to help us with reordering the result\nvar reorder=function reorder(list,startIndex,endIndex){var result=Array.from(list);var _result$splice=result.splice(startIndex,1),_result$splice2=_slicedToArray(_result$splice,1),removed=_result$splice2[0];result.splice(endIndex,0,removed);return result;};// Moves an item from one list to another list.\n// const move = (source, destination, droppableSource, droppableDestination) => {\n//   const sourceClone = Array.from(source);\n//   const destClone = Array.from(destination);\n//   const [removed] = sourceClone.splice(droppableSource.index, 1);\n//   destClone.splice(droppableDestination.index, 0, removed);\n//   const result = {};\n//   result[droppableSource.droppableId] = sourceClone;\n//   result[droppableDestination.droppableId] = destClone;\n//   return result;\n// };\nvar getBoardWithMemberDetails=function getBoardWithMemberDetails(board){var members=board.members.map(function(id){return ScrumBoardDB.members.find(function(member){return member.id===id;});});return _objectSpread(_objectSpread({},board),{},{members:members});};Mock.onGet('/api/scrum-board/all-member').reply(function(config){return[200,_toConsumableArray(ScrumBoardDB.members)];});Mock.onGet('/api/scrum-board/all-label').reply(function(config){return[200,_toConsumableArray(ScrumBoardDB.labels)];});Mock.onGet('/api/scrum-board/all-board').reply(function(config){var response=ScrumBoardDB.boardList.map(function(board){return _.pick(board,['id','title']);});return[200,response];});Mock.onPost('/api/scrum-board/add-board').reply(function(config){var title=config.data;ScrumBoardDB.boardList.push({id:shortId.generate(),title:title,list:[],members:[]});var response=ScrumBoardDB.boardList.map(function(board){return _.pick(board,['id','title']);});return[200,response];});Mock.onGet('/api/scrum-board').reply(function(config){var id=config.data;var board=ScrumBoardDB.boardList.find(function(board){return board.id===id;});var response=getBoardWithMemberDetails(board);return[200,response];});// Mock.onGet(\"/api/scrum-board\").reply(config => {\n//   const id = config.data;\n//   const board = ScrumBoardDB.boardList.find(board => board.id === id);\n//   const response = getBoardWithMemberDetails(board);\n//   return [200, response];\n// });\nMock.onPost('/api/scrum-board/add-member').reply(function(config){var _JSON$parse=JSON.parse(config.data),boardId=_JSON$parse.boardId,memberId=_JSON$parse.memberId;var board=ScrumBoardDB.boardList.find(function(board){return board.id===boardId;});board.members.push(memberId);var response=getBoardWithMemberDetails(board);return[200,response];});Mock.onPost('/api/scrum-board/delete-member').reply(function(config){var _JSON$parse2=JSON.parse(config.data),boardId=_JSON$parse2.boardId,memberId=_JSON$parse2.memberId;var board=ScrumBoardDB.boardList.find(function(board){return board.id===boardId;});board.members.splice(board.members.indexOf(memberId),1);var response=getBoardWithMemberDetails(board);return[200,response];});Mock.onPost('/api/scrum-board/add-column').reply(function(config){var _JSON$parse3=JSON.parse(config.data),boardId=_JSON$parse3.boardId,listTitle=_JSON$parse3.listTitle;var board=ScrumBoardDB.boardList.find(function(board){return board.id===boardId;});board.list.push({id:shortId.generate(),title:listTitle,cardList:[]});var response=getBoardWithMemberDetails(board);return[200,response];});Mock.onPost('/api/scrum-board/rename-column').reply(function(config){var _JSON$parse4=JSON.parse(config.data),boardId=_JSON$parse4.boardId,listTitle=_JSON$parse4.listTitle,listId=_JSON$parse4.listId;var board=ScrumBoardDB.boardList.find(function(board){return board.id===boardId;});board.list.map(function(column){if(column.id===listId){column.title=listTitle;}return column;});var response=getBoardWithMemberDetails(board);return[200,response];});Mock.onPost('/api/scrum-board/delete-column').reply(function(config){var _JSON$parse5=JSON.parse(config.data),boardId=_JSON$parse5.boardId,listId=_JSON$parse5.listId;var board=ScrumBoardDB.boardList.find(function(board){return board.id===boardId;});var deleteIndex=null;board.list.forEach(function(column,index){if(column.id===listId)deleteIndex=index;});board.list.splice(deleteIndex,1);var response=getBoardWithMemberDetails(board);return[200,response];});Mock.onPost('/api/scrum-board/add-card').reply(function(config){var _JSON$parse6=JSON.parse(config.data),boardId=_JSON$parse6.boardId,cardTitle=_JSON$parse6.cardTitle,listId=_JSON$parse6.listId;var board=ScrumBoardDB.boardList.find(function(board){return board.id===boardId;});var column=board.list.find(function(column){return column.id===listId;});column.cardList.push({id:shortId.generate(),title:cardTitle,members:[],labels:[],comments:[],attachments:[]});var response=getBoardWithMemberDetails(board);return[200,response];});Mock.onPost('/api/scrum-board/update-card').reply(function(config){var _JSON$parse7=JSON.parse(config.data),boardId=_JSON$parse7.boardId,listId=_JSON$parse7.listId,card=_JSON$parse7.card;var boardList=ScrumBoardDB.boardList.map(function(board){if(board.id===boardId){return _objectSpread(_objectSpread({},board),{},{list:board.list.map(function(column){if(column.id===listId){return _objectSpread(_objectSpread({},column),{},{cardList:column.cardList.map(function(item){if(item.id===card.id){return _objectSpread({},card);}return _objectSpread({},item);})});}return column;})});}return board;});ScrumBoardDB.boardList=_toConsumableArray(boardList);var board=boardList.find(function(item){return item.id===boardId;});var response=getBoardWithMemberDetails(board);return[200,response];});Mock.onPost('/api/scrum-board/reorder-list').reply(function(config){var _JSON$parse8=JSON.parse(config.data),boardId=_JSON$parse8.boardId,startIndex=_JSON$parse8.startIndex,endIndex=_JSON$parse8.endIndex;ScrumBoardDB.boardList=ScrumBoardDB.boardList.map(function(board){if(board.id===boardId){return _objectSpread(_objectSpread({},board),{},{list:reorder(board.list,startIndex,endIndex)});}return board;});var board=ScrumBoardDB.boardList.find(function(item){return item.id===boardId;});var response=getBoardWithMemberDetails(board);return[200,response];});Mock.onPost('/api/scrum-board/reorder-card').reply(function(config){var _JSON$parse9=JSON.parse(config.data),boardId=_JSON$parse9.boardId,listId=_JSON$parse9.listId,startIndex=_JSON$parse9.startIndex,endIndex=_JSON$parse9.endIndex;ScrumBoardDB.boardList=ScrumBoardDB.boardList.map(function(board){if(board.id===boardId){return _objectSpread(_objectSpread({},board),{},{list:board.list.map(function(list){if(list.id===listId){return _objectSpread(_objectSpread({},list),{},{cardList:reorder(list.cardList,startIndex,endIndex)});}return list;})});}return board;});var board=ScrumBoardDB.boardList.find(function(board){return board.id===boardId;});var response=getBoardWithMemberDetails(board);return[200,response];});Mock.onPost('/api/scrum-board/move-card').reply(function(config){var _JSON$parse10=JSON.parse(config.data),boardId=_JSON$parse10.boardId,sourcelistId=_JSON$parse10.sourcelistId,destinationlistId=_JSON$parse10.destinationlistId,source=_JSON$parse10.source,destination=_JSON$parse10.destination;var board=ScrumBoardDB.boardList.find(function(board){return board.id===boardId;});var _board$list$find$card=board.list.find(function(list){return list.id===sourcelistId;}).cardList.splice(source.index,1),_board$list$find$card2=_slicedToArray(_board$list$find$card,1),movedItem=_board$list$find$card2[0];board.list.find(function(list){return list.id===destinationlistId;}).cardList.splice(destination.index,0,movedItem);var response=getBoardWithMemberDetails(board);return[200,response];});","map":null,"metadata":{},"sourceType":"module"}